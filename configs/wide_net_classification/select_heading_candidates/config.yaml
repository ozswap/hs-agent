model:
  name: gemini-2.5-flash
  parameters:
    temperature: 0.1
    max_tokens: 8192
    top_p: 0.95
    thinking_budget: 0
prompts:
  system: prompts/system.md
  user: prompts/user.md

output_schema:
  title: "MultiSelectionOutput"
  description: "prompts/output_schema.md"
  type: "object"
  properties:
    selected_codes:
      type: "array"
      description: "1 to N selected HS codes"
      items:
        type: "string"
    individual_confidences:
      type: "array"
      description: "Confidence for each selected code"
      items:
        type: "number"
    ranked_candidates:
      type: "array"
      description: "All evaluated candidates ranked by relevance"
      items:
        type: "object"
        properties:
          code:
            type: "string"
            description: "HS code"
          relevance_score:
            type: "number"
            description: "Relevance score between 0.0 and 1.0"
          reasoning:
            type: "string"
            description: "Brief reasoning (max 25 words)"
        required: ["code", "relevance_score", "reasoning"]
    overall_confidence:
      type: "number"
      description: "Overall confidence in the selection set"
    reasoning:
      type: "string"
      description: "Detailed reasoning for the selections"
  required: ["selected_codes", "individual_confidences", "ranked_candidates", "overall_confidence", "reasoning"]